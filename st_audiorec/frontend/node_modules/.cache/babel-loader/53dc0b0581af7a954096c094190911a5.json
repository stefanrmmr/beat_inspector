{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar StringUtils_1 = require(\"../utils/StringUtils\"),\n    ArrayUtils_1 = require(\"../utils/ArrayUtils\"),\n    NumericUtils_1 = require(\"../utils/NumericUtils\"),\n    HashMapObject_1 = require(\"./HashMapObject\"),\n    TableObject = function () {\n  function t(t, r) {\n    if (void 0 === t && (t = 0), void 0 === r && (r = 0), this._columnsCount = 0, this._rowsCount = 0, !(NumericUtils_1.NumericUtils.isInteger(t) && t >= 0)) throw new Error(\"constructor rows must be a positive integer\");\n    if (this._rowsCount = t, NumericUtils_1.NumericUtils.isInteger(r) && r >= 0) this._columnsCount = Number(r);else {\n      if (!ArrayUtils_1.ArrayUtils.isArray(r)) throw new Error(\"constructor columns must be an integer or an array of strings\");\n      this._columnsCount = r.length, this.setColumnNames(r);\n    }\n    if (this._columnsCount + this._rowsCount > 0 && (0 == this._columnsCount || 0 == this._rowsCount)) throw new Error(\"constructor columns cannot be empty if rows are positive and vice versa\");\n    this._columnNames = new HashMapObject_1.HashMapObject(), this._cells = new HashMapObject_1.HashMapObject();\n  }\n\n  return t.prototype.setColumnName = function (t, r) {\n    var e = this._validateColumnIndex(t);\n\n    if (!StringUtils_1.StringUtils.isString(r)) throw new Error(\"name must be a string\");\n    return this._columnNames.set(String(e), r), !0;\n  }, t.prototype.setColumnNames = function (t) {\n    if (this._columnsCount == t.length) {\n      if (ArrayUtils_1.ArrayUtils.hasDuplicateElements(t)) throw new Error(\"array must not contain duplicate elements\");\n      var r = t.length;\n      this._columnNames = new HashMapObject_1.HashMapObject();\n\n      for (var e = 0; e < r; e++) {\n        if (!StringUtils_1.StringUtils.isString(t[e])) throw new Error(\"List of names must be an array of strings\");\n\n        this._columnNames.set(String(e), t[e]);\n      }\n\n      return t;\n    }\n\n    throw new Error(\"List of names must match number of columns\");\n  }, t.prototype.getColumnNames = function () {\n    for (var t = [], r = 0; r < this._columnsCount; r++) {\n      var e = String(r);\n      t.push(this._columnNames.isKey(e) ? this._columnNames.get(e) : \"\");\n    }\n\n    return t;\n  }, t.prototype.getColumnName = function (t) {\n    var r = String(this._validateColumnIndex(t));\n    return this._columnNames.isKey(r) ? this._columnNames.get(r) : \"\";\n  }, t.prototype.getColumnIndex = function (t) {\n    if (!StringUtils_1.StringUtils.isString(t) || \"\" === t) throw new Error(\"value must be a non empty string\");\n\n    for (var r = 0, e = this._columnNames.getKeys(); r < e.length; r++) {\n      var n = e[r];\n      if (this._columnNames.get(n) === t) return Number(n);\n    }\n\n    throw new Error(\"provided column name does not exist\");\n  }, t.prototype.getColumn = function (t) {\n    for (var r = [], e = this._validateColumnIndex(t), n = 0; n < this._rowsCount; n++) {\n      r.push(this.getCell(n, e));\n    }\n\n    return r;\n  }, t.prototype.addColumns = function (t, r, e) {\n    if (void 0 === r && (r = []), void 0 === e && (e = -1), !ArrayUtils_1.ArrayUtils.isArray(r)) throw new Error(\"names must be an array\");\n    if (!NumericUtils_1.NumericUtils.isInteger(t) || t <= 0) throw new Error(\"number must be a positive integer\");\n    if (!NumericUtils_1.NumericUtils.isInteger(e) || e < -1 || e >= this._columnsCount) throw new Error(\"at must be a valid column index\");\n    if (e >= 0) for (var n = this._columnsCount - 1; n >= e; n--) {\n      this._columnNames.isKey(String(n)) && this._columnNames.rename(String(n), String(n + t));\n\n      for (var s = 0; s < this._rowsCount; s++) {\n        var i = String(s) + \"-\" + String(n);\n        this._cells.isKey(i) && this._cells.rename(i, String(s) + \"-\" + String(n + t));\n      }\n    }\n    var o = r.length;\n\n    if (o > 0) {\n      if (o != t) throw new Error(\"names length must be the same as number\");\n      var u = e < 0 ? this._columnsCount : e;\n\n      for (n = 0; n < o; n++) {\n        this._columnNames.set(String(u + n), r[n]);\n      }\n    }\n\n    return this._columnsCount += t, !0;\n  }, t.prototype.setColumn = function (t, r) {\n    var e = r.length;\n    if (e <= 0) throw new Error(\"data must not be empty\");\n    if (this._rowsCount != e) throw new Error(\"data length and number of rows must match\");\n\n    for (var n = this._validateColumnIndex(t), s = 0; s < this._rowsCount; s++) {\n      this.setCell(s, n, r[s]);\n    }\n  }, t.prototype.removeColumn = function (t) {\n    var r = this._validateColumnIndex(t);\n\n    this._columnNames.isKey(String(r)) && this._columnNames.remove(String(r));\n\n    for (var e = 0; e < this._rowsCount; e++) {\n      var n = String(e) + \"-\" + String(r);\n      this._cells.isKey(n) && this._cells.remove(n);\n    }\n\n    for (e = r + 1; e < this._columnsCount; e++) {\n      this._columnNames.isKey(String(e)) && this._columnNames.rename(String(e), String(e - 1));\n\n      for (var s = 0; s < this._rowsCount; s++) {\n        n = String(s) + \"-\" + String(e);\n        this._cells.isKey(n) && this._cells.rename(n, String(s) + \"-\" + String(e - 1));\n      }\n    }\n\n    this._columnsCount--, this._columnsCount <= 0 && (this._rowsCount = 0);\n  }, t.prototype.getCell = function (t, r) {\n    var e = this._validateRowIndex(t) + \"-\" + this._validateColumnIndex(r);\n\n    return this._cells.isKey(e) ? this._cells.get(e) : null;\n  }, t.prototype.setCell = function (t, r, e) {\n    var n = this._validateRowIndex(t),\n        s = this._validateColumnIndex(r);\n\n    return this._cells.set(n + \"-\" + s, e);\n  }, t.prototype.getRow = function (t) {\n    for (var r = [], e = this._validateRowIndex(t), n = 0; n < this._columnsCount; n++) {\n      r.push(this.getCell(e, n));\n    }\n\n    return r;\n  }, t.prototype.addRows = function (t, r) {\n    if (void 0 === r && (r = -1), !NumericUtils_1.NumericUtils.isInteger(t) || t <= 0) throw new Error(\"number must be a positive integer\");\n    if (!NumericUtils_1.NumericUtils.isInteger(r) || r < -1 || r >= this._rowsCount) throw new Error(\"at must be a valid row index\");\n    if (r >= 0) for (var e = this._rowsCount - 1; e >= r; e--) {\n      for (var n = 0; n < this._columnsCount; n++) {\n        var s = String(e) + \"-\" + String(n);\n        this._cells.isKey(s) && this._cells.rename(s, e + t + \"-\" + String(n));\n      }\n    }\n    return this._rowsCount += t, !0;\n  }, t.prototype.setRow = function (t, r) {\n    var e = r.length;\n    if (e <= 0) throw new Error(\"data must not be empty\");\n    if (this._columnsCount != e) throw new Error(\"data length and number of columns must match\");\n\n    for (var n = this._validateRowIndex(t), s = 0; s < this._columnsCount; s++) {\n      this.setCell(n, s, r[s]);\n    }\n  }, t.prototype.removeRow = function (t) {\n    for (var r = this._validateRowIndex(t), e = 0; e < this._columnsCount; e++) {\n      var n = String(r) + \"-\" + String(e);\n      this._cells.isKey(n) && this._cells.remove(n);\n    }\n\n    for (e = r + 1; e < this._rowsCount; e++) {\n      for (var s = 0; s < this._columnsCount; s++) {\n        n = String(e) + \"-\" + String(s);\n        this._cells.isKey(n) && this._cells.rename(n, String(e - 1) + \"-\" + String(s));\n      }\n    }\n\n    this._rowsCount--, this._rowsCount <= 0 && (this._columnsCount = 0);\n  }, t.prototype.countRows = function () {\n    return this._rowsCount;\n  }, t.prototype.countColumns = function () {\n    return this._columnsCount;\n  }, t.prototype.countCells = function () {\n    return this._rowsCount * this._columnsCount;\n  }, t.prototype._validateColumnIndex = function (t) {\n    var r = NumericUtils_1.NumericUtils.isInteger(t) ? Number(t) : -1,\n        e = this._columnNames.getValues(),\n        n = this._columnNames.getKeys(),\n        s = e.length;\n\n    if (StringUtils_1.StringUtils.isString(t)) for (var i = 0; i < s; i++) {\n      if (t === e[i]) {\n        r = Number(n[i]);\n        break;\n      }\n    }\n    if (r < 0 || r >= this._columnsCount) throw new Error(\"Invalid column value\");\n    return r;\n  }, t.prototype._validateRowIndex = function (t) {\n    var r = NumericUtils_1.NumericUtils.isInteger(t) ? t : -1;\n    if (r < 0 || r >= this._rowsCount) throw new Error(\"Invalid row value\");\n    return r;\n  }, t;\n}();\n\nexports.TableObject = TableObject;","map":{"version":3,"sources":["/Users/stefan_rmmr/software_dev/beat_inspector/st_audiorec/frontend/node_modules/turbocommons-ts/model/TableObject.js"],"names":["Object","defineProperty","exports","value","StringUtils_1","require","ArrayUtils_1","NumericUtils_1","HashMapObject_1","TableObject","t","r","_columnsCount","_rowsCount","NumericUtils","isInteger","Error","Number","ArrayUtils","isArray","length","setColumnNames","_columnNames","HashMapObject","_cells","prototype","setColumnName","e","_validateColumnIndex","StringUtils","isString","set","String","hasDuplicateElements","getColumnNames","push","isKey","get","getColumnName","getColumnIndex","getKeys","n","getColumn","getCell","addColumns","rename","s","i","o","u","setColumn","setCell","removeColumn","remove","_validateRowIndex","getRow","addRows","setRow","removeRow","countRows","countColumns","countCells","getValues"],"mappings":"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","sourcesContent":["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var StringUtils_1=require(\"../utils/StringUtils\"),ArrayUtils_1=require(\"../utils/ArrayUtils\"),NumericUtils_1=require(\"../utils/NumericUtils\"),HashMapObject_1=require(\"./HashMapObject\"),TableObject=function(){function t(t,r){if(void 0===t&&(t=0),void 0===r&&(r=0),this._columnsCount=0,this._rowsCount=0,!(NumericUtils_1.NumericUtils.isInteger(t)&&t>=0))throw new Error(\"constructor rows must be a positive integer\");if(this._rowsCount=t,NumericUtils_1.NumericUtils.isInteger(r)&&r>=0)this._columnsCount=Number(r);else{if(!ArrayUtils_1.ArrayUtils.isArray(r))throw new Error(\"constructor columns must be an integer or an array of strings\");this._columnsCount=r.length,this.setColumnNames(r)}if(this._columnsCount+this._rowsCount>0&&(0==this._columnsCount||0==this._rowsCount))throw new Error(\"constructor columns cannot be empty if rows are positive and vice versa\");this._columnNames=new HashMapObject_1.HashMapObject,this._cells=new HashMapObject_1.HashMapObject}return t.prototype.setColumnName=function(t,r){var e=this._validateColumnIndex(t);if(!StringUtils_1.StringUtils.isString(r))throw new Error(\"name must be a string\");return this._columnNames.set(String(e),r),!0},t.prototype.setColumnNames=function(t){if(this._columnsCount==t.length){if(ArrayUtils_1.ArrayUtils.hasDuplicateElements(t))throw new Error(\"array must not contain duplicate elements\");var r=t.length;this._columnNames=new HashMapObject_1.HashMapObject;for(var e=0;e<r;e++){if(!StringUtils_1.StringUtils.isString(t[e]))throw new Error(\"List of names must be an array of strings\");this._columnNames.set(String(e),t[e])}return t}throw new Error(\"List of names must match number of columns\")},t.prototype.getColumnNames=function(){for(var t=[],r=0;r<this._columnsCount;r++){var e=String(r);t.push(this._columnNames.isKey(e)?this._columnNames.get(e):\"\")}return t},t.prototype.getColumnName=function(t){var r=String(this._validateColumnIndex(t));return this._columnNames.isKey(r)?this._columnNames.get(r):\"\"},t.prototype.getColumnIndex=function(t){if(!StringUtils_1.StringUtils.isString(t)||\"\"===t)throw new Error(\"value must be a non empty string\");for(var r=0,e=this._columnNames.getKeys();r<e.length;r++){var n=e[r];if(this._columnNames.get(n)===t)return Number(n)}throw new Error(\"provided column name does not exist\")},t.prototype.getColumn=function(t){for(var r=[],e=this._validateColumnIndex(t),n=0;n<this._rowsCount;n++)r.push(this.getCell(n,e));return r},t.prototype.addColumns=function(t,r,e){if(void 0===r&&(r=[]),void 0===e&&(e=-1),!ArrayUtils_1.ArrayUtils.isArray(r))throw new Error(\"names must be an array\");if(!NumericUtils_1.NumericUtils.isInteger(t)||t<=0)throw new Error(\"number must be a positive integer\");if(!NumericUtils_1.NumericUtils.isInteger(e)||e<-1||e>=this._columnsCount)throw new Error(\"at must be a valid column index\");if(e>=0)for(var n=this._columnsCount-1;n>=e;n--){this._columnNames.isKey(String(n))&&this._columnNames.rename(String(n),String(n+t));for(var s=0;s<this._rowsCount;s++){var i=String(s)+\"-\"+String(n);this._cells.isKey(i)&&this._cells.rename(i,String(s)+\"-\"+String(n+t))}}var o=r.length;if(o>0){if(o!=t)throw new Error(\"names length must be the same as number\");var u=e<0?this._columnsCount:e;for(n=0;n<o;n++)this._columnNames.set(String(u+n),r[n])}return this._columnsCount+=t,!0},t.prototype.setColumn=function(t,r){var e=r.length;if(e<=0)throw new Error(\"data must not be empty\");if(this._rowsCount!=e)throw new Error(\"data length and number of rows must match\");for(var n=this._validateColumnIndex(t),s=0;s<this._rowsCount;s++)this.setCell(s,n,r[s])},t.prototype.removeColumn=function(t){var r=this._validateColumnIndex(t);this._columnNames.isKey(String(r))&&this._columnNames.remove(String(r));for(var e=0;e<this._rowsCount;e++){var n=String(e)+\"-\"+String(r);this._cells.isKey(n)&&this._cells.remove(n)}for(e=r+1;e<this._columnsCount;e++){this._columnNames.isKey(String(e))&&this._columnNames.rename(String(e),String(e-1));for(var s=0;s<this._rowsCount;s++){n=String(s)+\"-\"+String(e);this._cells.isKey(n)&&this._cells.rename(n,String(s)+\"-\"+String(e-1))}}this._columnsCount--,this._columnsCount<=0&&(this._rowsCount=0)},t.prototype.getCell=function(t,r){var e=this._validateRowIndex(t)+\"-\"+this._validateColumnIndex(r);return this._cells.isKey(e)?this._cells.get(e):null},t.prototype.setCell=function(t,r,e){var n=this._validateRowIndex(t),s=this._validateColumnIndex(r);return this._cells.set(n+\"-\"+s,e)},t.prototype.getRow=function(t){for(var r=[],e=this._validateRowIndex(t),n=0;n<this._columnsCount;n++)r.push(this.getCell(e,n));return r},t.prototype.addRows=function(t,r){if(void 0===r&&(r=-1),!NumericUtils_1.NumericUtils.isInteger(t)||t<=0)throw new Error(\"number must be a positive integer\");if(!NumericUtils_1.NumericUtils.isInteger(r)||r<-1||r>=this._rowsCount)throw new Error(\"at must be a valid row index\");if(r>=0)for(var e=this._rowsCount-1;e>=r;e--)for(var n=0;n<this._columnsCount;n++){var s=String(e)+\"-\"+String(n);this._cells.isKey(s)&&this._cells.rename(s,e+t+\"-\"+String(n))}return this._rowsCount+=t,!0},t.prototype.setRow=function(t,r){var e=r.length;if(e<=0)throw new Error(\"data must not be empty\");if(this._columnsCount!=e)throw new Error(\"data length and number of columns must match\");for(var n=this._validateRowIndex(t),s=0;s<this._columnsCount;s++)this.setCell(n,s,r[s])},t.prototype.removeRow=function(t){for(var r=this._validateRowIndex(t),e=0;e<this._columnsCount;e++){var n=String(r)+\"-\"+String(e);this._cells.isKey(n)&&this._cells.remove(n)}for(e=r+1;e<this._rowsCount;e++)for(var s=0;s<this._columnsCount;s++){n=String(e)+\"-\"+String(s);this._cells.isKey(n)&&this._cells.rename(n,String(e-1)+\"-\"+String(s))}this._rowsCount--,this._rowsCount<=0&&(this._columnsCount=0)},t.prototype.countRows=function(){return this._rowsCount},t.prototype.countColumns=function(){return this._columnsCount},t.prototype.countCells=function(){return this._rowsCount*this._columnsCount},t.prototype._validateColumnIndex=function(t){var r=NumericUtils_1.NumericUtils.isInteger(t)?Number(t):-1,e=this._columnNames.getValues(),n=this._columnNames.getKeys(),s=e.length;if(StringUtils_1.StringUtils.isString(t))for(var i=0;i<s;i++)if(t===e[i]){r=Number(n[i]);break}if(r<0||r>=this._columnsCount)throw new Error(\"Invalid column value\");return r},t.prototype._validateRowIndex=function(t){var r=NumericUtils_1.NumericUtils.isInteger(t)?t:-1;if(r<0||r>=this._rowsCount)throw new Error(\"Invalid row value\");return r},t}();exports.TableObject=TableObject;"]},"metadata":{},"sourceType":"script"}